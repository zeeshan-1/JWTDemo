(this["webpackJsonpjwt-react-app"]=this["webpackJsonpjwt-react-app"]||[]).push([[0],{48:function(e,t,r){},49:function(e,t,r){},53:function(e,t,r){"use strict";r.r(t);var n=r(7),a=r(0),s=r.n(a),o=r(8),c=r.n(o),i=(r(48),r(23)),u=(r.p,r(49),r(85)),l=r(81),d=r(86),j=r(87),b=Object(l.a)((function(e){return{root:{"& .MuiTextField-root":{margin:e.spacing(1),minWidth:230}},smMargin:{margin:e.spacing(1)}}})),h=s.a.memo((function(e){var t=e.buttonLabel,r=e.onSubmitHandler,s=b(),o=Object(a.useState)(""),c=Object(i.a)(o,2),u=c[0],l=c[1],h=Object(a.useState)(""),m=Object(i.a)(h,2),f=m[0],g=m[1];Object(a.useEffect)((function(){}),[]);return Object(n.jsx)("form",{className:s.root,noValidate:!0,autoComplete:"off",onSubmit:function(e){e.preventDefault(),r({userName:u,userPassword:f})},children:Object(n.jsxs)("div",{children:[Object(n.jsx)("div",{children:Object(n.jsx)(d.a,{name:"UserName",variant:"outlined",label:"User Name/Email",defaultValue:u,autoComplete:"current-username",onChange:function(e){l(e.target.value)}})}),Object(n.jsx)("div",{children:Object(n.jsx)(d.a,{name:"Password",type:"password",variant:"outlined",label:"Password",autoComplete:"current-password",defaultValue:f,onChange:function(e){g(e.target.value)}})}),Object(n.jsx)("div",{children:Object(n.jsx)(j.a,{type:"submit",color:"primary",variant:"contained",size:"small",children:t})})]})})})),m=function(e){var t=Object(a.useCallback)((function(e){console.log("registerUser is called..",e);var t={username:e.userName,password:e.userPassword};fetch("http://localhost:6060/users/register",{method:"POST",body:JSON.stringify(t),headers:{Authorization:"Bearer ".concat(JSON.parse(localStorage.getItem("currentUser")).jwtToken)}}).then((function(e){e.json().then((function(e){console.log("returned result = ",e),currentUser=JSON.stringify({id:e.id,userName:e.username,email:e.email,isRegistered:!!(e.id>0&&e.hasError),jwtToken:e.jwtToken,hasError:e.hasError,errorMessages:e.errorMessages})}))})).catch((function(e){console.log("Error = ",e.data)}))}),[]);return Object(n.jsx)("div",{children:Object(n.jsx)(h,{buttonLabel:"Register",onSubmitHandler:t})})},f=function(e){var t=Object(a.useCallback)((function(t){console.log("authenticateUser is called..",t);var r={username:t.userName,password:t.userPassword};fetch("http://localhost:6060/users/authenticate",{method:"POST",body:JSON.stringify(r),headers:{"Content-Type":"application/json"}}).then((function(t){t.json().then((function(t){console.log("returned result = ",t),currentUser=JSON.stringify({id:t.id,userName:t.username,email:t.email,isRegistered:t.id>0,isAuthenticated:t.hasError,jwtToken:t.jwtToken,hasError:t.hasError,errorMessages:t.errorMessages}),localStorage.setItem("currentUser",currentUser),e.setIsAuthenticated(currentUser.isAuthenticated)}))})).catch((function(e){console.log("Error = ",e.data)}))}),[]);return Object(n.jsx)("div",{children:Object(n.jsx)(h,{buttonLabel:"Login",onSubmitHandler:t})})};var g=function(){var e=Object(a.useState)(!0),t=Object(i.a)(e,2),r=t[0],s=t[1],o=Object(a.useState)(!1),c=Object(i.a)(o,2),l=c[0],d=c[1];return Object(a.useEffect)((function(){}),[l,r]),Object(n.jsx)("div",{className:"App",children:Object(n.jsx)(u.a,{children:l?Object(n.jsx)(m,{onRegister:s}):Object(n.jsx)(f,{onAuthenticate:d})})})},O=function(e){e&&e instanceof Function&&r.e(3).then(r.bind(null,89)).then((function(t){var r=t.getCLS,n=t.getFID,a=t.getFCP,s=t.getLCP,o=t.getTTFB;r(e),n(e),a(e),s(e),o(e)}))};c.a.render(Object(n.jsx)(s.a.StrictMode,{children:Object(n.jsx)(g,{})}),document.getElementById("root")),O()}},[[53,1,2]]]);
//# sourceMappingURL=main.f5aa05a8.chunk.js.map